plugins {
	id 'java'
	id 'com.github.johnrengelman.shadow' version '5.1.0'
}

allprojects {
	repositories {
		mavenCentral()
		maven { 
			url 'https://jitpack.io'
		}
		maven {
			name 'sponge'
			url 'http://repo.spongepowered.org/maven'
		}
		maven {
			name 'CodeMC'
			url 'https://repo.codemc.org/repository/maven-public'
		}
	}

	compileJava.options.compilerArgs.add '-parameters'
	compileTestJava.options.compilerArgs.add '-parameters'
	
	apply plugin: 'java'
	apply plugin: 'com.github.johnrengelman.shadow'
}

dependencies {
	compile project(':BlueMapCLI')
	compile project(':BlueMapBukkit')
	compile project(':BlueMapSponge')
}

shadowJar {
	relocate 'org.bstats.bukkit', 'de.bluecolored.bluemap.bstats.bukkit'

	baseName = 'BlueMap'
	version = null
	classifier = null
}

jar {    
	manifest {
		attributes 'Main-Class' : "de.bluecolored.bluemap.cli.BlueMapCLI"
	}
}